<link rel="stylesheet" href="{{ 'sass-styles.css' | asset_url }}">

<div class="socks-section">
  <div class="socks-header">
    <h2 class="socks-title">
      {{ section.settings.socks_title }}
    </h2>
    <p class="socks-overview" style="font-size: {{ section.settings.overview_text_size }}px;">
    {{ section.settings.socks_overview }}
    </p>
      </div>
<!-- Slider Container -->
<div class="glide">
  <div class="glide__track" data-glide-el="track">
    <ul class="glide__slides">
      {% for block in section.blocks %}
        {% case block.type %}
          {% when 'collection' %}
            {% assign collection = collections[block.settings.collection] %}
            <li class="glide__slide">
              <img src="{{ collection.image | img_url: 'master' }}" alt="{{ collection.title }}">
              <p>{{ collection.title }}</p>
            </li>
          {% when 'product' %}
            {% assign product = all_products[block.settings.product] %}
            <li class="glide__slide">
              <img src="{{ product.featured_image | img_url: 'master' }}" alt="{{ product.title }}">
              <p>{{ product.title }}</p>
            </li>
        {% endcase %}
      {% endfor %}
    </ul>
  </div>

<!-- Arrows! -->
<div class="glide__arrows" data-glide-el="controls">
  <button class="glide__arrow glide__arrow--left" data-glide-dir="<"><i class="fas fa-chevron-left"></i></button>
  <button class="glide__arrow glide__arrow--right" data-glide-dir=">"><i class="fas fa-chevron-right"></i></button>
</div>
</div>
</div>

<script src="https://cdn.jsdelivr.net/npm/@glidejs/glide@latest/dist/glide.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet">


<script>
  document.addEventListener('DOMContentLoaded', function () {
    new Glide('.glide', {
      type: 'carousel',
      perView: 4,
      breakpoints: {
        768: {
          perView: 2.5
        },
        480: {
          perView: 1.5
        }
      }
    }).mount();
  });
</script>



{% schema %}
  {
    "name": "Socks",
    "settings": [
      {
      "type": "richtext",
      "id": "socks_title",
      "label": "Socks Title",
      "default": "<h2>This is a section title...</h2>"
    },
    {
      "type": "richtext",
      "id": "socks_overview",
      "label": "Socks Overview",
      "default": "<p>Section overview. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua..</p>"
    },
    {
      "type": "select",
      "id": "heading_size",
      "label": "Heading Size",
      "options": [
        { "value": "h1", "label": "H1" },
        { "value": "h2", "label": "H2" },
        { "value": "h3", "label": "H3" },
        { "value": "h4", "label": "H4" },
        { "value": "h5", "label": "H5" },
        { "value": "h6", "label": "H6" }
      ],
      "default": "h2"
    },
    {
      "type": "range",
      "id": "overview_text_size",
      "label": "Overview Text Size",
      "min": 12,
      "max": 24,
      "step": 1,
      "default": 16,
      "unit": "px"
    }
    ],
    "blocks": [
      {
        "type": "collection",
        "name": "Collection",
        "settings": [
          {
            "type": "collection",
            "id": "collection",
            "label": "Select a Collection"
          }
        ]
      },
      {
        "type": "product",
        "name": "Product",
        "settings": [
          {
            "type": "product",
            "id": "product",
            "label": "Select a Product"
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Socks",
        "category": "Custom"
      }
    ]
  }
  {% endschema %}
